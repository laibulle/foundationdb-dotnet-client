language: csharp
solution: FoundationDB.Client.sln

mono: none
dotnet: 3.0
script:
    - sed -i 's/<TargetFrameworks>.*/<TargetFramework>netstandard2.1<\/TargetFramework>/g' */*.csproj
    - dotnet restore
    #- ./build.sh
    - dotnet pack
    - nuget source Add -Name "GitHub" -Source "https://nuget.pkg.github.com/laibulle/index.json" -UserName $USERNAME -Password $PASSWORD
    - dotnet pack -c Release
    - dotnet nuget push "foundationdb-dotnet-client.nupkg" -s "https://github.com/laibulle/foundationdb-dotnet-client" -k $PASSWORD
